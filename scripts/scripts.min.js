!function(r){function a(r,a){var t=r.split(","),e=a<0?0:255,n=a<0?-1*a:a,o=parseInt(t[0].slice(4)),s=parseInt(t[1]),c=parseInt(t[2]);return"rgb("+(Math.round((e-o)*n)+o)+","+(Math.round((e-s)*n)+s)+","+(Math.round((e-c)*n)+c)+")"}function t(r,a,t){var e=r.split(","),n=a.split(","),o=parseInt(e[0].slice(4)),s=parseInt(e[1]),c=parseInt(e[2]);return"rgb("+(Math.round((parseInt(n[0].slice(4))-o)*t)+o)+","+(Math.round((parseInt(n[1])-s)*t)+s)+","+(Math.round((parseInt(n[2])-c)*t)+c)+")"}var e={selector:"[data-adaptive-background]",parent:null,exclude:["rgb(0,0,0)","rgb(255,255,255)"],shadeVariation:!1,shadePercentage:0,shadeColors:{light:"rgb(255,255,255)",dark:"rgb(0,0,0)"},normalizeTextColor:!1,normalizedTextColors:{light:"#fff",dark:"#000"},lumaClasses:{light:"ab-light",dark:"ab-dark"},transparent:null};!function(r,a){"use strict";var t=function(r,a){var t=document.createElement("canvas");return t.setAttribute("width",r),t.setAttribute("height",a),t.getContext("2d")},e=function(r,a){var e=new Image,n=r.src||r;"data:"!==n.substring(0,5)&&(e.crossOrigin="Anonymous"),e.onload=function(){var r=t(e.width,e.height);r.drawImage(e,0,0);var n=r.getImageData(0,0,e.width,e.height);a&&a(n.data)},e.src=n},n=function(r){return["rgb(",r,")"].join("")},o=function(r){var a=[];for(var t in r)a.push(c(t,r[t]));return a.sort(function(r,a){return a.count-r.count}),a},s=function(r,a){if(r.length>a)return r.slice(0,a);for(var t=r.length-1;a-1>t;t++)r.push(c("0,0,0",0));return r},c=function(r,a){return{name:n(r),count:a}},i={};i.colors=function(r,a){var t=(a=a||{}).exclude||[],c=a.paletteSize||10;e(r,function(r){for(var e={},i="",u=[],l=0;l<r.length;l+=4)u[0]=r[l],u[1]=r[l+1],u[2]=r[l+2],i=u.join(","),-1===u.indexOf(void 0)&&0!==r[l+3]&&-1===t.indexOf(n(i))&&(e[i]=i in e?e[i]+1:1);if(a.success){var d=s(o(e),c+1);a.success({dominant:d[0].name,secondary:d[1].name,palette:d.map(function(r){return r.name}).slice(1)})}})},r.RGBaster=r.RGBaster||i}(window),r.adaptiveBackground={run:function(n){var o=r.extend({},e,n);r(o.selector).each(function(e,n){var s=r(this),c=function(r){var a=r.match(/\d+/g);return(299*a[0]+587*a[1]+114*a[2])/1e3},i=function(){var r=s.attr("data-ab-css-background");return void 0!==r&&!1!==r},u=function(){var r=s.css("background-image");return/\(([^)]+)\)/.exec(r)[1].replace(/"/g,"")},l=function(r){return 1==o.shadeVariation?c(r)<=128?a(r,o.shadePercentage):a(r,-o.shadePercentage,o.shadePercentage):"blend"==o.shadeVariation?c(r)>=128?t(r,o.shadeColors.dark,o.shadePercentage):t(r,o.shadeColors.light,o.shadePercentage):void 0};s.on("ab-color-found",function(a,t){var e;if(e=o.parent&&s.parents(o.parent).length?s.parents(o.parent):s.attr("data-ab-parent")&&s.parents(s.attr("data-ab-parent")).length?s.parents(s.attr("data-ab-parent")):i()?s:o.parent?s.parents(o.parent):s.parent(),o.shadeVariation&&(t.color=l(t.color)),r.isNumeric(o.transparent)&&null!=o.transparent&&o.transparent>=.01&&o.transparent<=.99){var n=t.color.replace("rgb","rgba").replace(")",", "+o.transparent+")");e.css({backgroundColor:n})}else e.css({backgroundColor:t.color});o.normalizeTextColor&&e.css({color:function(r){return c(r)>=128?o.normalizedTextColors.dark:o.normalizedTextColors.light}(t.color)}),e.addClass(function(r){return c(r)<=128?o.lumaClasses.dark:o.lumaClasses.light}(t.color)).attr("data-ab-yaq",c(t.color)),o.success&&o.success(s,t)}),function(){if("PICTURE"==s[0].tagName){var r=s[0].children;for(var a in r)if("IMG"==r[a].tagName){t=r[a];break}t.currentSrc&&(t=t.currentSrc)}else var t=i()?u():s[0];RGBaster.colors(t,{paletteSize:20,exclude:o.exclude,success:function(r){s.attr("data-ab-color",r.dominant),s.trigger("ab-color-found",{color:r.dominant,palette:r.palette})}})}()})}}}(jQuery);
!function(t){var e=t.getElementsByTagName("button"),n=0;for(n;n<e.length;n++)e[n].addEventListener("click",function(){this.classList.toggle("active"),this.nextElementSibling.classList.toggle("is-visible")},!1);$(t).ready(function(){$.adaptiveBackground.run()})}(document);